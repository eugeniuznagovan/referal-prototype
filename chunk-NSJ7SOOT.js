import{$ as X,A as N,B as A,C as B,D as Q,E as U,H as j,I as H,J as V,L as R,N as Y,O as W,P as Z,V as G,W as K,X as $,Y as q,Z as z,_ as J,a as S,aa as ee,b as m,ba as te,c as y,ca as ne,d as _,da as oe,e as I,ea as ie,f as k,fa as re,g as a,ga as ae,h as E,ha as ce,i as p,ia as se,j as T,ja as le,k as s,l as M,m as w,n as D,o as i,p as n,q as d,r as h,s as u,t as g,u as O,v as c,w as b,x as F,y as L,z as P}from"./chunk-OLTZ5C6Z.js";import"./chunk-SRUD5PB2.js";import"./chunk-YWO3IHIW.js";import"./chunk-SD5XCXOE.js";import"./chunk-JV7ON635.js";import"./chunk-F7XBNY6P.js";import"./chunk-EXRUNRTN.js";import"./chunk-C4TORFO5.js";import"./chunk-UHUGRIBZ.js";import"./chunk-4WFVMWDK.js";import"./chunk-4I6HJA6T.js";import"./chunk-NMYJD6OP.js";import"./chunk-B43CU5JX.js";import"./chunk-TQEIIVVC.js";import"./chunk-LF5XB4YN.js";import"./chunk-NWJ5J3BN.js";function fe(o,t){o&1&&(i(0,"p"),c(1,"Loading..."),n())}function Ce(o,t){if(o&1&&(i(0,"div",0),N(1),i(2,"div",1)(3,"div",2),d(4,"ion-icon",3)(5,"ion-icon",3),n(),d(6,"ion-icon",3)(7,"ion-icon",3)(8,"ion-icon",3),n(),i(9,"div",4),d(10,"ion-icon",3)(11,"ion-icon",3),n()()),o&2){let e=g().referralCount();a(4),s("ngClass",e>=1?"green":"gray"),a(),s("ngClass",e>=2?"green":"gray"),a(),s("ngClass",e>=3?"green":"gray"),a(),s("ngClass",e>=4?"green":"gray"),a(),s("ngClass",e>=5?"green":"gray"),a(2),s("ngClass",e>=6?"green":"gray"),a(),s("ngClass",e>=7?"green":"gray")}}var f=class o{referralCount=I(void 0);static \u0275fac=function(e){return new(e||o)};static \u0275cmp=p({type:o,selectors:[["app-invite-status"]],inputs:{referralCount:[1,"referralCount"]},decls:2,vars:1,consts:[[1,"circle","circle-third"],[1,"circle","circle-second"],[1,"circle","circle-first"],["name","person-circle",3,"ngClass"],[2,"display","flex","align-items","center","padding-right","3px"]],template:function(e,r){e&1&&T(0,fe,2,0,"p")(1,Ce,12,7,"div",0),e&2&&M(r.referralCount()?1:0)},dependencies:[ie,U],styles:["ion-icon[_ngcontent-%COMP%]{border-radius:10px}ion-icon.green[_ngcontent-%COMP%]{background:var(--ion-color-strong-green);color:var(--ion-color-light-green)}ion-icon.gray[_ngcontent-%COMP%]{background:var(--ion-color-light);color:var(--ion-color-normal-gray)}.circle[_ngcontent-%COMP%]{display:flex;padding:3px;border-radius:12px;align-items:center;margin-right:2px}.circle-third[_ngcontent-%COMP%]{background:var(--ion-color-strong-blue)}.circle-second[_ngcontent-%COMP%]{background:var(--ion-color-normal-blue)}.circle-first[_ngcontent-%COMP%]{background:var(--ion-color-light-blue)}"]})};var ye={loading:!0,contacts:[]},v=ce(se(ye));var x=class{_document;_textarea;constructor(t,e){this._document=e;let r=this._textarea=this._document.createElement("textarea"),l=r.style;l.position="fixed",l.top=l.opacity="0",l.left="-999em",r.setAttribute("aria-hidden","true"),r.value=t,r.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(r)}copy(){let t=this._textarea,e=!1;try{if(t){let r=this._document.activeElement;t.select(),t.setSelectionRange(0,t.value.length),e=this._document.execCommand("copy"),r&&r.focus()}}catch{}return e}destroy(){let t=this._textarea;t&&(t.remove(),this._textarea=void 0)}},me=(()=>{class o{_document=m(Q);constructor(){}copy(e){let r=this.beginCopy(e),l=r.copy();return r.destroy(),l}beginCopy(e){return new x(e,this._document)}static \u0275fac=function(r){return new(r||o)};static \u0275prov=S({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var pe={botUrl:"https://t.me/referal_prototype_bot"};var _e=(o,t)=>t.username;function he(o,t){if(o&1){let e=h();i(0,"ion-item",10,0),u("click",function(){y(e);let l=O(11);return _(l.checked=!l.checked)}),i(2,"ion-avatar"),d(3,"img",11),n(),i(4,"ion-label",12)(5,"h3"),c(6),n(),i(7,"p"),c(8),n()(),d(9,"app-invite-status",13)(10,"ion-checkbox",5,1),n()}if(o&2){let e=t.$implicit;a(3),s("src",e.avatar,k),a(3),b(e.name),a(2),b(e.username),a(),s("referralCount",e.referralCount)}}function be(o,t){if(o&1){let e=h();i(0,"ion-item")(1,"ion-label"),c(2,"No results found."),n(),i(3,"ion-button",14),u("click",function(){y(e);let l=g();return _(l.copyUserId())}),c(4,"Invite"),n(),d(5,"ion-toast",15),n()}o&2&&(a(5),s("duration",3e3))}var ue=class o{contactsStore=m(v);appStore=m(le);clipboard=m(me);searchQuery=E("");filteredContacts=B(()=>{let t=this.searchQuery().toLowerCase();return this.contactsStore.contacts().filter(e=>e.name.toLowerCase().includes(t)||e.username.toLowerCase().includes(t)||e.email.toLowerCase().includes(t))});copyUserId(){let t=`${pe.botUrl}?start=${this.appStore.user().id}`;this.clipboard.copy(t)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=p({type:o,selectors:[["app-contacts"]],inputs:{searchQuery:[1,"searchQuery"]},outputs:{searchQuery:"searchQueryChange"},features:[A([v])],decls:41,vars:3,consts:[["item",""],["checkbox",""],[3,"color"],["slot","start"],["defaultHref","home"],["slot","end"],["value","default"],["value","segment"],["placeholder","Search Users",3,"ngModelChange","ngModel"],["detail","false","button",""],["detail","false","button","",3,"click"],["alt","User Avatar",3,"src"],[2,"margin-left","1rem","text-overflow","elipsis","overflow","hidden","white-space","nowrap"],[2,"margin-right","1rem",3,"referralCount"],["id","open-toast","slot","end",3,"click"],["trigger","open-toast","message","Link copied \u{1F517}",3,"duration"]],template:function(e,r){e&1&&(i(0,"ion-header")(1,"ion-toolbar",2)(2,"ion-buttons",3),d(3,"ion-back-button",4),n(),i(4,"ion-title"),c(5,"Contacts"),n()(),i(6,"ion-toolbar")(7,"ion-list")(8,"ion-item")(9,"ion-label"),c(10,"Your Contacts are your resources"),n(),i(11,"ion-label",5),c(12,"9"),n()(),i(13,"ion-item")(14,"ion-label"),c(15,"Your Contacts are your resources"),n(),i(16,"ion-label",5),c(17,"5"),n()(),i(18,"ion-item")(19,"ion-label"),c(20,"Already Recommended"),n(),i(21,"ion-label",5),c(22,"2"),n()()()(),i(23,"ion-toolbar")(24,"ion-segment",6)(25,"ion-segment-button",6)(26,"ion-label"),c(27,"All Friends"),n()(),i(28,"ion-segment-button",7)(29,"ion-label"),c(30,"Select"),n()()()(),i(31,"ion-toolbar")(32,"ion-searchbar",8),P("ngModelChange",function(C){return L(r.searchQuery,C)||(r.searchQuery=C),C}),n()()(),i(33,"ion-content")(34,"ion-list")(35,"ion-list-header")(36,"ion-label"),c(37,"Friends list"),n()(),w(38,he,12,4,"ion-item",9,_e,!1,be,6,1,"ion-item"),n()()),e&2&&(a(),s("color",r.appStore.isLightTheme()?"primary":""),a(31),F("ngModel",r.searchQuery),a(6),D(r.filteredContacts()))},dependencies:[K,ne,ee,G,Z,R,ae,X,q,re,z,J,$,Y,oe,V,j,H,f,W,te],styles:["ion-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}"]})};export{ue as ContactsComponent};
